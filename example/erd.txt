# Visualize on https://erd.surge.sh
# or https://quick-erd.surge.sh
#
# Relationship Types
#  -    - one to one
#  -<   - one to many
#  >-   - many to one
#  >-<  - many to many
#  -0   - one to zero or one
#  0-   - zero or one to one
#  0-0  - zero or one to zero or one
#  -0<  - one to zero or many
#  >0-  - zero or many to one
#
////////////////////////////////////


forum
-----
id int(10) unsigned PK
name text
created_at datetime
updated_at datetime
level int(11) NULL


knex_migrations
---------------
id int(10) unsigned PK
name varchar(255) NULL
batch int(11) NULL
migration_time timestamp


knex_migrations_lock
--------------------
index int(10) unsigned PK
is_locked int(11) NULL


like
----
user_id int(10) unsigned FK >- user.id
post_id int(10) unsigned FK >- post.id
created_at datetime
updated_at datetime


post
----
id int(10) unsigned PK
reply_id int(10) unsigned NULL FK >- post.id
user_id int(10) unsigned FK >- user.id
thread_id int(10) unsigned FK >- thread.id
content text
created_at datetime
updated_at datetime


test
----
id int(11) PK
username varchar(32) NULL
password_hash varchar(60) NULL
user_id int(10) unsigned NULL FK >- user.id


thread
------
id int(10) unsigned PK
user_id int(10) unsigned FK >- user.id
topic text
status enum('active','pending')
forum_id int(10) unsigned FK >- forum.id
created_at datetime
updated_at datetime


transaction
-----------
raw_id int(11) PK
receiver_user_id int(11)
sender_user_id int(11)
fee int(11)
create_timestamp timestamp


user
----
id int(10) unsigned PK
username varchar(64)
created_at datetime
updated_at datetime
